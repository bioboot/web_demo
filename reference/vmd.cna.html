<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>View CNA Protein Structure Network Community Output in VMD — vmd • Bio3D</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>

<!-- Bootstrap -->
<link href="../tidyverse.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>
<link href="../tidyverse-2.css" rel="stylesheet">

<!--optional theme
<link href="../.css" rel="stylesheet">
-->


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>


<meta property="og:title" content="View CNA Protein Structure Network Community Output in VMD — vmd" />
<meta property="og:description" content="This function generates a VMD scene file and a PDB file that can be 
  read and rendered by the VMD molecular viewer. Chose &amp;#8216;color by chain&amp;#8217; 
  to see corresponding regions of structure colored by community along with 
  the community protein structure network." />
<meta property="og:image" content="/logo.png" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="navbar-brand" href="../index.html">
        bio3d</a>
        <div class="info hidden-xs hidden-sm">
<!--          <span class="partof">part of the <a href="https://tidyverse.org">tidyverse</a></span>
-->
          <span class="version version-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.4-1.9000</span>
        </div>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fa fa-book"></span>
     
    Tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">INTRODUCTORY TUTORIALS</li>
    <li>
      <a href="../articles/online/install_vignette/Bio3D_install.html">Installing Bio3D</a>
    </li>
    <li>
      <a href="../articles/online/intro_vignette/Bio3D_introduction.html">Getting started with Bio3D</a>
    </li>
    <li>
      <a href="../articles/online/pdb_vignette/Bio3D_pdb.html">PDB structure manipulation and analysis</a>
    </li>
    <li>
      <a href="../articles/online/pca_vignette/Bio3D_pca.html">Comparative sequence and structure analysis</a>
    </li>
    <li>
      <a href="../articles/online/nma_vignette/Bio3D_nma.html">Enhanced Normal Modes Analysis</a>
    </li>
    <li>
      <a href="../articles/online/traj_vignette/Bio3D_md.html">Beginning trajectory analysis with Bio3D </a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">ADVANCED TUTORIALS</li>
    <li>
      <a href="../articles/online/enma_vignettes/Bio3D_nma-dhfr-partI.html">Ensemble NMA of E.coli DHFR structures</a>
    </li>
    <li>
      <a href="../articles/online/enma_vignettes/Bio3D_nma-dhfr-partII.html">Ensemble NMA across multiple species of DHFR</a>
    </li>
    <li>
      <a href="../articles/online/cna_vignette/Bio3D_cna-transducin.html">Correlation network analysis with Bio3D</a>
    </li>
    <li>
      <a href="../articles/online/cna_vignette/cna_vignette.spin.html">Protein structure network analysis with Bio3D ***</a>
    </li>
    <li>
      <a href="../articles/online/eddm_vignette/Bio3D_eddm.spin.html">Ensemble Difference Distance Matrix (eDDM) analysis</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">WEBAPP TUTORIALS</li>
    <li>
      <a href="http://thegrantlab.org/bio3d_v2/download/webapp-tutorials?download=22:bio3d-webapp-pca">Online protein structure analysis with Bio3D-Web (PDF)</a>
    </li>
    <li>
      <a href="http://thegrantlab.org/bio3d_v2/webapps">Online Normal Mode Analysis with Bio3D WebApps (To Update)</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="../articles/index.html">All vignettes</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    Documentation
  </a>
</li>
        <li>
  <a href="../FAQ.html">
    <span class="fa fa-comments-o"></span>
     
    FAQ
  </a>
</li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    News
  </a>
</li>
<li>
  <a href="http://thegrantlab.org/">
    <span class="fa fa-external-link"></span>
     
    Grant Lab
  </a>
</li>
<li>
  <a href="https://bitbucket.org/Grantlab/bio3d/src/master/">
    <span class="fa fa-bitbucket"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>View CNA Protein Structure Network Community Output in VMD</h1>
    
    <div class="hidden name"><code>vmd.cna.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function generates a VMD scene file and a PDB file that can be 
  read and rendered by the VMD molecular viewer. Chose &#8216;color by chain&#8217; 
  to see corresponding regions of structure colored by community along with 
  the community protein structure network.</p>
    </div>

    <pre class="usage"><span class='fu'>vmd</span>(<span class='kw'>...</span>)

<span class='co'># S3 method for cna</span>
<span class='fu'>vmd</span>(<span class='kw'>x</span>, <span class='kw'>pdb</span>, layout = <span class='fu'>layout.cna</span>(<span class='kw'>x</span>, <span class='kw'>pdb</span>, k=<span class='fl'>3</span>), 
		col.sphere=NULL, col.line<span class='kw'>NULL</span>"silver", weig<span class='st'>"silver"</span>LL, <span class='kw'>NULL</span>
		radius = table(x$commun<span class='fu'><a href='https://rdrr.io/r/base/table.html'>table</a></span>$<span class='kw'>x</span><span class='op'>$</span><span class='kw'>communities</span><span class='op'>$</span><span class='kw'>membership</span>,<span class='op'>/</span><span class='fl'>5</span><span class='fl'>1</span>
		vmdfile = "network.vmd",<span class='st'>"network.vmd"</span>etwork.pdb",<span class='st'>"network.pdb"</span>
                full = <span class='fl'>FALSE</span>, launch = <span class='fl'>FALSE</span>, exefile=<span class='kw'>NULL</span>, <span class='kw'>...</span>)
<span class='co'># S3 method for ecna</span>
<span class='fu'>vmd</span>(<span class='kw'>x</span>, n=<span class='fl'>1</span>, <span class='kw'>...</span>)
<span class='co'># S3 method for cnapath</span>
<span class='fu'>vmd</span>(<span class='kw'>x</span>, <span class='kw'>pdb</span>, out.prefix = <span class='st'>"vmd.cnapath"</span>, spline = <span class='fl'>FALSE</span>, 
   colors = <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"blue"</span>, <span class='st'>"red"</span>), launch = <span class='fl'>FALSE</span>, exefile=<span class='kw'>NULL</span>, mag=<span class='fl'>1.0</span>, <span class='kw'>...</span>)
<span class='co'># S3 method for ecnapath</span>
<span class='fu'>vmd</span>(<span class='kw'>x</span>, <span class='kw'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>A 'cna' or 'cnapath' class object, or a list of such objects, as 
    obtained from functions <code>cna</code> or <code>cnapath</code>.</p></td>
    </tr>
    <tr>
      <th>n</th>
      <td><p>The index to indicate which network or path to view with <code>vmd</code>.</p></td>
    </tr>
    <tr>
      <th>pdb</th>
      <td><p>A 'pdb' class object such as obtained from &#8216;read.pdb&#8217; function.</p></td>
    </tr>
    <tr>
      <th>layout</th>
      <td><p>A numeric matrix of Nx3 XYZ coordinate matrix, where N is the 
  number of community spheres to be drawn.</p></td>
    </tr>
    <tr>
      <th>col.sphere</th>
      <td><p>A numeric vector containing the sphere colors.</p></td>
    </tr>
    <tr>
      <th>col.lines</th>
      <td><p>A character object specifying the color of the
    edges (default 'silver'). Must use VMD colors names.</p></td>
    </tr>
    <tr>
      <th>weights</th>
      <td><p>A numeric vector specifying the edge width. Default is
    taken from E(x$community.network)$weight.</p></td>
    </tr>
    <tr>
      <th>radius</th>
      <td><p>A numeric vector containing the sphere radii. Default
    is taken from the number of community members divided by 5.</p></td>
    </tr>
    <tr>
      <th>alpha</th>
      <td><p>A single element numeric vector specifying the VMD alpha
    transparency parameter. Default is set to 1.</p></td>
    </tr>
    <tr>
      <th>vmdfile</th>
      <td><p>A character element specifying the output VMD scene file 
    name that will be loaded in VMD.</p></td>
    </tr>
    <tr>
      <th>pdbfile</th>
      <td><p>A character element specifying the output pdb file name to be
    loaded in VMD.</p></td>
    </tr>
    <tr>
      <th>full</th>
      <td><p>Logical, if TRUE the full all-atom network rather than the
    clustered community network will be drawn. Intra community edges are
    colored according to the community membership, while inter community
    edges are thicker and colored black.</p></td>
    </tr>
    <tr>
      <th>launch</th>
      <td><p>Logical. If TRUE, a VMD session will be started with
    the output of &#8216;vmd.cna&#8217;.</p></td>
    </tr>
    <tr>
      <th>out.prefix</th>
      <td><p>Prefix for the names of output files, &#8216;vmd.cnapath.vmd&#8217;
    and &#8216;vmd.cnapath.pdb&#8217;.</p></td>
    </tr>
    <tr>
      <th>spline</th>
      <td><p>Logical, if TRUE all paths are displayed as spline
    curves.</p></td>
    </tr>
    <tr>
      <th>colors</th>
      <td><p>Character vector or integer scalar, define path colors. If a
    character vector, passed to <code><a href='https://rdrr.io/r/grDevices/colorRamp.html'>colorRamp</a></code> function to generate the 
    color scales. If an integer, color all paths the same way with VMD color 
    ID equal to the integer.</p></td>
    </tr>
    <tr>
      <th>exefile</th>
      <td><p>file path to the &#8216;VMD&#8217; program on your system (i.e.
    how is &#8216;VMD&#8217; invoked). If <code>NULL</code>, use OS-dependent
    default path to the program.</p></td>
    </tr>
    <tr>
      <th>mag</th>
      <td><p>A numeric factor to scale the maximal thickness of paths.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>additional arguments passed to the function
    <code><a href='https://rdrr.io/r/grDevices/colorRamp.html'>colorRamp</a></code> (in <code>vmd.cnapath</code>).</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function generates a scaled sphere (communities) and stick (edges) 
  representation of the community network along with the corresponding protein 
  structure divided into chains, one chain for each community. The sphere radii 
  are proportional to the number of community members and the edge widths correspond 
  to network edge weights.</p>
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Two files are generated as output. A pdb file with the residue chains
  assigned according to the community and a text file containing The
  drawing commands for the community representation.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Humphrey, W., Dalke, A. and Schulten, K., ``VMD - Visual Molecular Dynamics'' J. Molec. Graphics 1996, 14.1, 33-38.</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Barry Grant</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>if</span> (<span class='fl'>FALSE</span>) {

<span class='co'>if</span> (<span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/ns-load.html'>requireNamespace</a></span>(<span class='st'>"igraph"</span>, quietly = <span class='fl'>TRUE</span>)) {
   <span class='fu'><a href='https://rdrr.io/r/base/message.html'>message</a></span>(<span class='st'>'Need igraph installed to run this example'</span>)
} <span class='co'>else</span> {

<span class='co'># Load the correlation network from MD data</span>
<span class='fu'><a href='https://rdrr.io/r/base/attach.html'>attach</a></span>(<span class='kw'>hivp</span>)

<span class='co'># Read the starting PDB file to determine atom correspondence</span>
<span class='kw'>pdbfile</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span>(<span class='st'>"examples/hivp.pdb"</span>, package=<span class='st'>"bio3d"</span>)
<span class='kw'>pdb</span> <span class='op'>&lt;-</span> <span class='fu'>read.pdb</span>(<span class='kw'>pdbfile</span>)

<span class='co'># View cna </span>
<span class='fu'>vmd.cna</span>(<span class='kw'>net</span>, <span class='kw'>pdb</span>, launch=<span class='fl'>FALSE</span>)
<span class='co'>## within VMD set 'coloring method' to 'Chain' and 'Drawing method' to Tube</span>


<span class='co'>##-- From NMA</span>
<span class='kw'>pdb.gdi</span> <span class='op'>=</span> <span class='fu'>read.pdb</span>(<span class='st'>"1KJY"</span>)
<span class='kw'>pdb.gdi</span> <span class='op'>=</span> <span class='fu'>trim.pdb</span>(<span class='kw'>pdb.gdi</span>, inds=<span class='fu'>atom.select</span>(<span class='kw'>pdb.gdi</span>, chain=<span class='st'>"A"</span>, elety=<span class='st'>"CA"</span>)) 
<span class='kw'>modes.gdi</span> <span class='op'>=</span> <span class='fu'>nma</span>(<span class='kw'>pdb.gdi</span>)
<span class='kw'>cij.gdi</span> <span class='op'>=</span> <span class='fu'>dccm</span>(<span class='kw'>modes.gdi</span>)
<span class='kw'>net.gdi</span> <span class='op'>=</span> <span class='fu'>cna</span>(<span class='kw'>cij.gdi</span>, cutoff.cij=<span class='fl'>0.35</span>)
<span class='co'>#vmd.cna(net.gdi, pdb.gdi, alpha = 0.7, launch=TRUE)</span>

<span class='fu'><a href='https://rdrr.io/r/base/detach.html'>detach</a></span>(<span class='kw'>hivp</span>)

}
}</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="tidyverse">
  <p>Authored by Barry Grant, Xin-Qiu Yao, Lars Skjaerven, Julien Ide.</p>
</div>

<div class="author">
  <p>
    Built with &#10084;&#65039; and <a href="https://pkgdown.r-lib.org">pkgdown</a> &copy; 2020.
  </p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '1270c4079b26a138795263974bbf302d',
    indexName: 'tidyverse',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


